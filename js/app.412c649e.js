(function(){"use strict";var e={6080:function(e,t,r){r.d(t,{b:function(){return n}});const n={TOKEN:"token",USERNAME:"username"}},2279:function(e,t,r){var n=r(9242),o=r(3396);function a(e,t,r,n,a,s){const u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(u,{class:"h-screen w-screen",onViewInited:s.disableTemplatePreloader},null,8,["onViewInited"])])}var s=r(7139),u={name:"TheApp",computed:{...(0,s.Se)({errorBufferEmpty:"error/errorBufferEmpty"})},watch:{errorBufferEmpty(e){e||(this.logErrors(),this.$store.commit("error/clearErrorBuffer"))}},methods:{...(0,s.nv)({logErrors:"error/logErrors"}),disableTemplatePreloader(){setTimeout((()=>{const e=document.querySelector("#template-preloader");e&&document.body.removeChild(e)}),0)}}},i=r(89);const c=(0,i.Z)(u,[["render",a]]);var l=c,d=r(2483);const f=(e,t,r)=>{r({name:"root"})},m=(e,t)=>({error:e,payload:t}),p=e=>{R.dispatch("error/registrateError",e)};var h=r(5032),g=r(6080);r(1703);const b=class{collectLogInformation(){throw Error("Method collectLogInformation must have implementation")}},v=class extends b{constructor(e,t=null,...r){super(...r),this.response=e,this.body=t}collectLogInformation(){return{status:this.response.status,body:this.body}}};var y={namespaced:!0,state:{token:sessionStorage.getItem(g.b.TOKEN)||localStorage.getItem(g.b.TOKEN),username:sessionStorage.getItem(g.b.USERNAME)||localStorage.getItem(g.b.USERNAME)},getters:{token:e=>e.token,username:e=>e.username},mutations:{setToken(e,t){e.token=t},setUsername(e,t){e.username=t},clear(e){localStorage.removeItem(g.b.TOKEN),e.token=null,localStorage.removeItem(g.b.USERNAME),e.username=null}},actions:{async logIn({commit:e},t){const r=await h.O.logIn(t),n=await r.json();return 200===r.status?(e("setToken",n.token),e("setUsername",n.username),m(!1,n)):400===r.status?m(!0,n):(p(new v(r,n)),m(null))},async logOut({commit:e}){const t=await h.O.logOut();return 200===t.status?(e("clear"),m(!1)):(p(new v(t)),m(null))}}};const E=()=>{H.push({name:"errorPage"})};let w=0;var S={namespaced:!0,state:{errors:[]},getters:{errorBufferEmpty:e=>0===e.errors.length,errorInstances:e=>e.errors.map((e=>e.collectLogInformation()))},mutations:{pushError(e,t){e.errors.push(t)},clearErrorBuffer(e){e.errors=[]}},actions:{registrateError({commit:e},t){e("pushError",t),E()},logErrors({getters:e}){console.group("Error Log "+ ++w),console.log(e.errorInstances),console.groupEnd()}}},O={namespaced:!0,state:{todos:[]},getters:{todos:e=>e.todos},mutations:{setTodos(e,t){e.todos=t},clear(e){e.todos=[]}},actions:{async requestTodos({commit:e}){const t=await fetch("https://jsonplaceholder.typicode.com/todos"),r=await t.json();return 200===t.status?(e("setTodos",r),m(!1)):(p(new v(t,r)),m(null))}}};function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}function T(e,t,r=""){const n=new RegExp(`(?:${t}).*($||&)`),o=e.match(n),a=o?o[0]:"";return Array.isArray(r)?r.reduce(((e,t)=>e.replace(t,"")),a):a.replace(r,"")}function P(e,t,r=!0){const n="function"===typeof t&&r?e.findIndex((e=>t(e))):e.indexOf(t);return-1!==n?e.splice(n,1)[0]:null}var A=(e,t)=>{if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;const r=[...e].sort(((e,t)=>e-t)),n=[...t].sort(((e,t)=>e-t));return r.every(((e,t)=>e===n[t]))},I=(e,t=(e=>e))=>{const r=[];return e.forEach((e=>{r.find((r=>t(r)===t(e)))||r.push(e)})),r};function j(e,t,r=(e=>e)){for(const n of t)P(e,(e=>r(e)===r(n)))}var N=(e,t=(e=>e))=>e.reduce(((e,r)=>{const n=t(r),o=Object.keys(e).find((e=>e==n));if(o){const t=e[n];t.push(r)}else{const t=[r];e[n]=t}return e}),{});function C(e){return!!e&&"function"===typeof e[Symbol.iterator]}const x={string:{capitalize:k,lookbehind:T},number:{},boolean:{},array:{remove:P,equals:A,unique:I,exclude:j,group:N},object:{isIterable:C}},U=(x.string,x.number,x.boolean,x.array),M=(x.object,()=>({todos:Array,completed:0,incompleted:0})),F=e=>Object.keys(e).map((t=>{const r=e[t],n=M();n.id=r[0].userId,n.todos=r;for(const e of r)n.completed+=e.completed;return n.incompleted=n.todos.length-n.completed,n}));var L={namespaced:!0,state:{users:[]},getters:{users:e=>e.users},mutations:{setUsers(e,t){e.users=t},clear(e){e.users=[]}},actions:{composeUsers({commit:e,rootGetters:t}){const r=t["todo/todos"],n=U.group(r,(e=>e.userId)),o=F(n);o.sort(((e,t)=>t.completed-e.completed||e.id-t.id)),e("setUsers",o)}}},R=(0,s.MT)({modules:{auth:y,error:S,todo:O,user:L}});const _=(e,t,r)=>{const n=R.getters["auth/token"],o=e.meta.auth;n||!0!==o?n&&!1===o?r({name:"todo"}):r():r({name:"auth"})};function B(e,t,r,n,a,s){const u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(u)}var K={name:"EmptyLayout"};const q=(0,i.Z)(K,[["render",B]]);var D=q;const W=[{path:"/",name:"root",redirect:{name:"auth"}},{path:"/auth",component:D,meta:{auth:!1},children:[{path:"",name:"auth",component:()=>Promise.all([r.e(499),r.e(724)]).then(r.bind(r,6724))}]},{path:"/todo",component:()=>r.e(276).then(r.bind(r,3276)),meta:{auth:!0},children:[{path:"",name:"todo",component:()=>r.e(117).then(r.bind(r,7117))},{path:"graph",name:"graph",component:()=>r.e(649).then(r.bind(r,5649))}]},{path:"/error-page",name:"errorPage",component:D},{path:"/testing",name:"testing",component:()=>Promise.all([r.e(499),r.e(191)]).then(r.bind(r,4191)),beforeEnter:f},{path:"/:anySymbolSequence*",redirect:{name:"root"}}],$=(0,d.p7)({history:(0,d.PO)("/ex-todo-app/"),routes:W});$.beforeEach(_);var H=$;r.e(814).then(r.bind(r,2814));const V=(0,n.ri)(l);V.use(R),V.use(H),V.mount("#app")},5032:function(e,t,r){r.d(t,{O:function(){return s}});const n={USERNAME:"user1",PASSWORD:"password",TOKEN:"QFSKFODSPXFPP2P2P2PSDFPFSF--F-"},o=(e,t)=>new Promise((r=>{setTimeout((()=>{r({status:e,json(){return new Promise((e=>{setTimeout((()=>{e(t)}),0)}))}})}),1e3+1e3*Math.random())}));class a{logIn({username:e,password:t}){return e===n.USERNAME&&t===n.PASSWORD?o(200,{token:n.TOKEN,username:n.USERNAME}):"CRASH"===e?o(500):o(400,{errors:[{message:"The transmitted data is incorrect"}]})}logOut(){return o(200)}}const s=new a}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var s=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],a=e[l][2];for(var u=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[i])}))?n.splice(i--,1):(u=!1,a<s&&(s=a));if(u){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{117:"e2b4feaa",142:"1eeaed54",191:"97d5ddbf",194:"461f1346",264:"215df499",276:"0cd63abb",286:"e455dda4",499:"377a9515",515:"765371aa",649:"6304b02b",715:"b6d76f43",724:"65613282",814:"f204f820",853:"59798876"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{142:"f81ea90f",194:"546e2cc8",264:"98e02c98",515:"a8d7525b",649:"ee2a2ee2",715:"582487a0",724:"02b78241",814:"ed3a75ab",853:"f81ea90f"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ex-todo-app:";r.l=function(n,o,a,s){if(e[n])e[n].push(o);else{var u,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){u=d;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack",t+a),u.src=n),e[n]=[o];var f=function(t,r){u.onerror=u.onload=null,clearTimeout(m);var o=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/ex-todo-app/"}(),function(){var e=function(e,t,r,n){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)r();else{var s=a&&("load"===a.type?"missing":a.type),u=a&&a.target&&a.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=s,i.request=u,o.parentNode.removeChild(o),n(i)}};return o.onerror=o.onload=a,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=r[n],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){o=s[n],a=o.getAttribute("data-href");if(a===e||a===t)return o}},n=function(n){return new Promise((function(o,a){var s=r.miniCssF(n),u=r.p+s;if(t(s,u))return o();e(n,u,o,a)}))},o={143:0};r.f.miniCss=function(e,t){var r={142:1,194:1,264:1,515:1,649:1,715:1,724:1,814:1,853:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=a);var s=r.p+r.u(t),u=new Error,i=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,o[1](u)}};r.l(s,i,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,s=n[0],u=n[1],i=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(i)var l=i(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},n=self["webpackChunkex_todo_app"]=self["webpackChunkex_todo_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(2279)}));n=r.O(n)})();
//# sourceMappingURL=app.412c649e.js.map